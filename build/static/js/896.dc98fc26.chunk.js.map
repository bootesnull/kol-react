{"version":3,"file":"static/js/896.dc98fc26.chunk.js","mappings":"wQAmKA,EA3Ja,WAKX,IAAIA,EAAQC,aAAaC,QAAQ,SAC3BC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAaC,EAAb,KAGMC,EAAgB,SAACC,GACrBF,EAAYE,EAAEC,OAAOC,OACE,MAAnBF,EAAEC,OAAOC,MACXN,EAAgB,YAEhBA,EAAgB,UAEnB,EAEDO,QAAQC,IAAI,WAAYT,EAAcR,GA4BtC,OACE,oBAASkB,UAAU,OAAnB,UACE,iBAAKA,UAAU,oDAAf,WACE,gBAAKA,UAAU,iBAAf,UACE,SAAC,KAAD,CAAMC,GAAG,IAAID,UAAU,wBAAvB,oBAKF,gBAAKA,UAAU,wCAAf,UACE,gBAAKA,UAAU,qBAAf,UACE,gBAAKA,UAAU,gBAAf,UACE,gBAAKA,UAAU,gBAAf,UACE,iBAAKA,UAAU,6BAAf,WACE,gBAAKA,UAAU,qBAAf,UACE,eAAIA,UAAU,yBAAd,sCAIF,kBAAME,SAxCD,SAACP,GACpBA,EAAEQ,iBACGX,EAEQA,GAAQV,EACjBK,GAASiB,EAAAA,EAAAA,IAAW,CAAEZ,KAAAA,EAAMV,MAAAA,KAAUuB,MAAK,SAACC,GAAU,IAAD,EAElB,OAA1B,OAAJA,QAAI,IAAJA,GAAA,UAAAA,EAAMC,eAAN,eAAeC,cAChBzB,aAAa0B,QAAQ,QAAQH,EAAKC,QAAQD,KAAKI,OAC/CC,EAAAA,GAAAA,QAAcL,EAAKC,QAAQK,SAC3B3B,EAAS,UAEX0B,EAAAA,GAAAA,MAAYL,EAAKC,QAAQM,IAC1B,KAGD1B,GAAS2B,EAAAA,EAAAA,IAAQtB,IACjBP,EAAS,cAdX0B,EAAAA,GAAAA,MAAY,2BAgBf,EAqBe,WACE,iBAAKX,UAAU,6BAAf,WACE,gBAAKA,UAAU,qBAAf,UACE,gBAAKA,UAAU,mBAAf,UACE,iBAAKA,UAAU,YAAf,WACE,gBAAKA,UAAU,0CAAf,UACE,gBAAKA,UAAU,gBAAf,UACE,gBAAKe,IAAI,wBAAwBC,IAAI,UAGzC,iBAAKhB,UAAU,2BAAf,WACE,kBACEiB,KAAK,QACLpB,MAAM,IACNqB,KAAK,OACLC,GAAG,OACHC,SAAU1B,KAEZ,kBACE2B,QAAQ,OACRrB,UAAU,oBACVkB,KAAK,OAHP,uCAWR,gBAAKlB,UAAU,qBAAf,UACE,gBAAKA,UAAU,mBAAf,UACE,iBAAKA,UAAU,YAAf,WACE,gBAAKA,UAAU,0CAAf,UACE,gBAAKA,UAAU,gBAAf,UACE,gBAAKe,IAAI,wBAAwBC,IAAI,UAGzC,iBAAKhB,UAAU,2BAAf,WACE,kBACEiB,KAAK,QACLpB,MAAM,IACNqB,KAAK,OACLC,GAAG,MACHC,SAAU1B,KAEZ,mBACE2B,QAAQ,MACRrB,UAAU,oBACVkB,KAAK,OAHP,UAKG,IALH,iCAaV,gBAAKlB,UAAU,qBAAf,UACE,oBAAQiB,KAAK,SAASjB,UAAU,uBAAhC,iBACOV,IAAgB,0BAAOA,aAKlC,gBAAKU,UAAU,0BAAf,UACE,eAAGA,UAAU,aAAb,iCACqB,SAAC,KAAD,CAAMC,GAAG,SAAT,uCAQjC,gBAAKD,UAAU,gCAAf,UACE,gBAAKA,UAAU,qBAAf,UACE,cAAGA,UAAU,UAAb,oFAQX,C","sources":["pages/Role/Role.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { addRole } from \"../../slices/AuthSlice/AuthSlice\";\r\nimport { updateRole, userSelector } from \"../../slices/AuthSlice/AuthSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport \"./Role.css\";\r\nimport { toast } from \"react-toastify\";\r\nconst Role = () => {\r\n  // const email = useSelector((state) => state?.user?.loginUser?.data?.email);\r\n  // const token = useSelector((state) => state?.user?.loginUser?.data?.token);\r\n  // const { isFetching, isSuccess, statusCode, isError, errorMessage, email } =\r\n  //   useSelector(userSelector);\r\n  let email = localStorage.getItem(\"email\")\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const [renderButton, setRenderButton] = useState(\"\");\r\n  const [role, setUserRole] = useState(\"\");\r\n\r\n  // let token = localStorage.getItem(\"token\");\r\n  const onChangeValue = (e) => {\r\n    setUserRole(e.target.value);\r\n    if (e.target.value === \"3\") {\r\n      setRenderButton(\" as User\");\r\n    } else {\r\n      setRenderButton(\" as KOL\");\r\n    }\r\n  };\r\n\r\n  console.log(\"--------\", renderButton, email)\r\n  // useEffect(() => {\r\n  //   if (token) {\r\n  //     navigate(\"/home\");\r\n  //   }\r\n  // }, [token]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!role) {\r\n      toast.error(\"Please select role first\");\r\n      } else if (role && email) {\r\n        dispatch(updateRole({ role, email })).then((data) => {\r\n     \r\n          if(data?.payload?.statusCode === 200){\r\n            localStorage.setItem(\"token\",data.payload.data.token)\r\n            toast.success(data.payload.message)\r\n            navigate(\"/home\");\r\n          }\r\n          toast.error(data.payload.msg);\r\n        });\r\n        // alert(typeof email)\r\n      } else {\r\n        dispatch(addRole(role));\r\n        navigate(\"/register\");\r\n      }\r\n  };\r\n\r\n  return (\r\n    <section className=\"main\">\r\n      <div className=\"container d-flex flex-wrap justify-content-center\">\r\n        <div className=\"row full-width\">\r\n          <Link to=\"/\" className=\"col-12 mb-4 logo-text\">\r\n            KOL\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"row full-width justify-content-center\">\r\n          <div className=\"col-lg-8 col-md-12\">\r\n            <div className=\"card card-kol\">\r\n              <div className=\"card-body p-4\">\r\n                <div className=\"row justify-content-center\">\r\n                  <div className=\"col-12 text-center\">\r\n                    <h3 className=\"join-heading mt-3 mb-4\">\r\n                      Join as a User or KOL\r\n                    </h3>\r\n                  </div>\r\n                  <form onSubmit={handleSubmit}>\r\n                    <div className=\"row justify-content-center\">\r\n                      <div className=\"col-lg-5 col-sm-12\">\r\n                        <div className=\"card joiner-card\">\r\n                          <div className=\"card-body\">\r\n                            <div className=\"joiner-avatar-bg justify-content-center\">\r\n                              <div className=\"joiner-avatar\">\r\n                                <img src=\"/Images/Group-102.png\" alt=\"\" />\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"joiner-option form-group\">\r\n                              <input\r\n                                type=\"radio\"\r\n                                value=\"3\"\r\n                                name=\"role\"\r\n                                id=\"user\"\r\n                                onChange={onChangeValue}\r\n                              />\r\n                              <label\r\n                                htmlFor=\"user\"\r\n                                className=\"join-option-label\"\r\n                                name=\"role\"\r\n                              >\r\n                                Join as a User\r\n                              </label>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-5 col-sm-12\">\r\n                        <div className=\"card joiner-card\">\r\n                          <div className=\"card-body\">\r\n                            <div className=\"joiner-avatar-bg justify-content-center\">\r\n                              <div className=\"joiner-avatar\">\r\n                                <img src=\"/Images/Group-103.png\" alt=\"\" />\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"joiner-option form-group\">\r\n                              <input\r\n                                type=\"radio\"\r\n                                value=\"2\"\r\n                                name=\"role\"\r\n                                id=\"kol\"\r\n                                onChange={onChangeValue}\r\n                              />\r\n                              <label\r\n                                htmlFor=\"kol\"\r\n                                className=\"join-option-label\"\r\n                                name=\"role\"\r\n                              >\r\n                                {\" \"}\r\n                                Join as a Kol\r\n                              </label>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12 text-center\">\r\n                      <button type=\"submit\" className=\"btn btn-lg theme-btn\">\r\n                        Join{renderButton && <span>{renderButton}</span>}\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n\r\n                  <div className=\"col-12 text-center mt-5\">\r\n                    <p className=\"optionText\">\r\n                      Already Registered <Link to=\"/login\">Log in? </Link>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row full-width align-self-end\">\r\n          <div className=\"col-12 text-center\">\r\n            <p className=\"cp-text\">\r\n              Copyright &copy; 2010-2022 KOL Company S.L. All rights reserved.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Role;\r\n"],"names":["email","localStorage","getItem","navigate","useNavigate","dispatch","useDispatch","useState","renderButton","setRenderButton","role","setUserRole","onChangeValue","e","target","value","console","log","className","to","onSubmit","preventDefault","updateRole","then","data","payload","statusCode","setItem","token","toast","message","msg","addRole","src","alt","type","name","id","onChange","htmlFor"],"sourceRoot":""}