"use strict";(self.webpackChunkkol_marketplace_new=self.webpackChunkkol_marketplace_new||[]).push([[806],{59517:function(e,a,l){l.r(a),l.d(a,{default:function(){return v}});var s=l(4942),n=l(1413),r=l(70885),t=l(72791),c=l(16871),o=l(8690),d=l(26313),i=l(59434),m=l(83383),u=l(9085),h=l(80184),v=function(){var e=(0,c.s0)(),a=(0,i.I0)(),l=(0,t.useState)(null),v=(0,r.Z)(l,2),p=v[0],x=v[1],f=(0,t.useState)(null),j=(0,r.Z)(f,2),N=j[0],g=j[1],b=(0,t.useState)({}),y=(0,r.Z)(b,2),k=y[0],w=y[1],Z=(0,t.useState)({phoneError:"",zipError:""}),C=(0,r.Z)(Z,2),E=C[0],z=C[1],_=(0,t.useState)({firstName:"",phone:"",gender:"",address:"",landmark:"",city:"",zip:"",state:"",country:"",avatar:""}),S=(0,r.Z)(_,2),$=S[0],A=S[1],F=$.firstName,M=($.lastName,$.phone),P=$.gender,D=$.address,G=($.landmark,$.city),I=$.zip,L=$.state,U=$.country,O=($.avatar,localStorage.getItem("token"));(0,t.useEffect)((function(){(0,o.M_)((function(e){var a,l,s,n,r,t;A({firstName:e.name,phone:e.phone,gender:e.gender,address:null===e||void 0===e||null===(a=e.get_address)||void 0===a?void 0:a.address,landmark:null===e||void 0===e||null===(l=e.get_address)||void 0===l?void 0:l.landmark,city:null===e||void 0===e||null===(s=e.get_address)||void 0===s?void 0:s.city,zip:null===e||void 0===e||null===(n=e.get_address)||void 0===n?void 0:n.zip,state:null===e||void 0===e||null===(r=e.get_address)||void 0===r?void 0:r.state,country:null===e||void 0===e||null===(t=e.get_address)||void 0===t?void 0:t.country,avatar:e.avatar,token:O})}),O)}),[]),(0,t.useEffect)((function(){(0,o.Rh)((function(e){w((0,n.Z)({},e))}))}),[]);var R=function(e){A((0,n.Z)((0,n.Z)({},$),{},(0,s.Z)({},e.target.name,e.target.value))),"phone"==e.target.name&&e.target.value.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)||"phone"==e.target.name&&0==e.target.value.length?z((function(e){return(0,n.Z)((0,n.Z)({},e),{},{phoneError:""})})):"phone"==e.target.name&&z((function(e){return(0,n.Z)((0,n.Z)({},e),{},{phoneError:"please check your phone"})})),"zip"==e.target.name&&e.target.value.match(/(^\d{6}$)|(^\d{6}-\d{6}$)/)||"zip"==e.target.name&&0==e.target.value.length?z((function(e){return(0,n.Z)((0,n.Z)({},e),{},{zipError:""})})):"zip"==e.target.name&&z((function(e){return(0,n.Z)((0,n.Z)({},e),{},{zipError:"please check your zip code"})}))};return(0,h.jsx)("div",{children:(0,h.jsx)("div",{className:"container",children:(0,h.jsx)("div",{className:"card",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)("div",{className:"col-lg-12 px-4",children:(0,h.jsxs)("div",{className:"row justify-content-between p-md-5",children:[(0,h.jsxs)("div",{className:"col-xl-3 col-lg-3 col-12 py-2 align-self-start text-center",children:[(0,h.jsx)("div",{className:"kol-profile-img",children:null!==$&&void 0!==$&&$.avatar?(0,h.jsx)("img",{src:"".concat(m.s).concat($.avatar),className:"img-fluid",alt:"avatar"}):"Avatar"}),(0,h.jsx)("input",{type:"file",className:"form-control mb-2",onChange:function(e){x(e.target.files[0])}}),(0,h.jsx)("button",{type:"button",className:"btn theme-btn col-12 mb-4",onClick:function(e){e.preventDefault();var l=new FormData;l.append("avatar",p),a((0,d.Zh)(l)).then((function(e){var a;if(201===(null===e||void 0===e||null===(a=e.payload)||void 0===a?void 0:a.statusCode)){(0,o.M_)((function(e){A((0,n.Z)((0,n.Z)({},$),{},{avatar:e.avatar}))}),O)}}))},children:"Update Photo"})]}),(0,h.jsxs)("div",{className:"col-xl-9 col-lg-9 col-12 px-lg-4",children:[(0,h.jsx)("div",{className:"row justify-content-between",children:(0,h.jsx)("h2",{className:"mb-4",children:"Edit your Profile"})}),(0,h.jsxs)("form",{onSubmit:function(l){l.preventDefault(),F&&M&&P&&D&&G&&I&&L&&U?M.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)&&I.match(/(^\d{6}$)|(^\d{6}-\d{6}$)/)&&a((0,d.bG)($)).then((function(a){var l,s,n,r;201===(null===a||void 0===a||null===(l=a.payload)||void 0===l?void 0:l.statusCode)||202===(null===a||void 0===a||null===(s=a.payload)||void 0===s?void 0:s.statusCode)?(u.Am.success(null===a||void 0===a||null===(n=a.payload)||void 0===n?void 0:n.message),e("/account")):u.Am.error(null===a||void 0===a||null===(r=a.payload)||void 0===r?void 0:r.message)})):g("Please fill the mandatory filed")},children:[(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsx)("label",{className:"col-12 col-form-label fw-medium",children:"User Name"}),(0,h.jsxs)("div",{className:"col-12",children:[(0,h.jsx)("input",{type:"text",className:"form-control ".concat(!F&&N?"border-danger":""),placeholder:"Enter First name",name:"firstName",value:$.firstName,onChange:R,disabled:!0}),(0,h.jsx)("span",{className:"err text-danger",children:!F&&N})]})]}),(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsxs)("label",{className:"col-12 col-form-label fw-medium",children:["Mobile ",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsxs)("div",{className:"col-12",children:[(0,h.jsx)("input",{type:"text",className:"form-control ".concat(!M&&N||E.phoneError?"border-danger":""),placeholder:"Enter Mobile number",name:"phone",value:$.phone,onChange:R}),(0,h.jsx)("span",{className:"err text-danger",children:!M&&N||E.phoneError})]})]}),(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsxs)("label",{className:"col-12 col-form-label fw-medium",children:["Gender ",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsxs)("div",{className:"col-12",children:[(0,h.jsxs)("div",{className:"form-check d-inline-block me-3",children:[(0,h.jsx)("input",{className:"form-check-input",type:"radio",name:"gender",id:"male",value:"male",checked:"male"==$.gender,onChange:R}),(0,h.jsx)("label",{className:"form-check-label",htmlFor:"male",children:"Male"})]}),(0,h.jsxs)("div",{className:"form-check d-inline-block",children:[(0,h.jsx)("input",{className:"form-check-input",type:"radio",name:"gender",id:"female",checked:"female"==$.gender,value:"female",onChange:R}),(0,h.jsx)("label",{className:"form-check-label",htmlFor:"female",children:"Female"})]})]}),(0,h.jsx)("span",{className:"err text-danger",children:!P&&N})]}),(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsxs)("label",{className:"col-12 col-form-label fw-medium",children:["Address ",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsxs)("div",{className:"col-12",children:[(0,h.jsx)("input",{type:"text",className:"form-control ".concat(!D&&N?"border-danger":""),placeholder:"Enter Address",name:"address",onChange:R,value:null===$||void 0===$?void 0:$.address}),(0,h.jsx)("span",{className:"err text-danger",children:!D&&N})]})]}),(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsx)("label",{className:"col-12 col-form-label fw-medium ",children:"Landmark"}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Landmark",name:"landmark",value:null===$||void 0===$?void 0:$.landmark,onChange:R})})]}),(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsxs)("label",{className:"col-12 col-form-label fw-medium",children:["City ",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsxs)("div",{className:"col-12",children:[(0,h.jsx)("input",{type:"text",className:" form-control ".concat(!G&&N?"border-danger":""),placeholder:"Enter city",name:"city",value:null===$||void 0===$?void 0:$.city,onChange:R}),(0,h.jsx)("span",{className:"err text-danger",children:!G&&N})]})]}),(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsxs)("label",{className:"col-12 col-form-label fw-medium",children:["State ",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsxs)("div",{className:"col-12",children:[(0,h.jsxs)("select",{className:"form-select ".concat(!L&&N?"border-danger":""),onChange:R,name:"state",value:null===$||void 0===$?void 0:$.state,children:[(0,h.jsx)("option",{value:"",children:"Select State"}),k&&Object.entries(k).map((function(e){var a=(0,r.Z)(e,2),l=a[0],s=a[1];return(0,h.jsx)("option",{value:l,children:s})}))]}),(0,h.jsx)("span",{className:"err text-danger",children:!L&&N})]})]}),(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsxs)("label",{className:"col-12 col-form-label fw-medium",children:["Country ",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsxs)("div",{className:"col-12",children:[(0,h.jsx)("input",{type:"text",className:"form-control ".concat(!U&&N?"border-danger":""),placeholder:"Enter Country",name:"country",value:null===$||void 0===$?void 0:$.country,onChange:R}),(0,h.jsx)("span",{className:"err text-danger",children:!U&&N})]})]}),(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsxs)("label",{className:"col-12 col-form-label fw-medium",children:["Zip Code ",(0,h.jsx)("span",{className:"text-danger",children:"*"})]}),(0,h.jsxs)("div",{className:"col-12",children:[(0,h.jsx)("input",{type:"text",className:"form-control ".concat(!I&&N||E.zipError?"border-danger":""),placeholder:"Enter Zip code",name:"zip",value:null===$||void 0===$?void 0:$.zip,onChange:R}),(0,h.jsx)("span",{className:"err text-danger",children:!I&&N||E.zipError})]})]}),(0,h.jsx)("div",{className:"row ",children:(0,h.jsxs)("div",{className:"col-12 mt-2",children:[(0,h.jsx)("button",{type:"submit",className:"btn theme-btn me-3",children:"Save Profile"}),(0,h.jsx)("button",{type:"button",className:"btn btn-default",onClick:function(){return e("/account")},children:"View Profile"})]})})]})]})]})})})})})})}}}]);
//# sourceMappingURL=806.7cebfcea.chunk.js.map