"use strict";(self.webpackChunkkol_marketplace_new=self.webpackChunkkol_marketplace_new||[]).push([[517],{4517:function(e,a,l){l.r(a);var n=l(4942),s=l(1413),t=l(2982),i=l(885),c=l(2791),o=l(3901),r=l(5071),m=l(3504),u=l(9085),d=(l(5462),l(3383)),f=l(1389),p=l(8690),h=l(184);a.default=function(){var e,a=(0,c.useState)([]),l=(0,i.Z)(a,2),v=l[0],g=l[1],x=(0,c.useState)({}),b=(0,i.Z)(x,2),j=b[0],N=b[1],_=(0,c.useState)({}),Z=(0,i.Z)(_,2),k=Z[0],y=Z[1],C=(0,c.useState)({}),S=(0,i.Z)(C,2),E=S[0],w=S[1],z=(0,c.useState)([]),I=(0,i.Z)(z,2),D=I[0],O=I[1],V=(0,c.useState)([]),A=(0,i.Z)(V,2),B=A[0],U=A[1],K=(0,c.useState)([]),L=(0,i.Z)(K,2),P=L[0],M=L[1],F=(0,c.useState)([]),H=(0,i.Z)(F,2),J=H[0],T=H[1],W=(0,c.useState)(),Q=(0,i.Z)(W,2),R=Q[0],q=Q[1],G=(0,c.useState)(),X=(0,i.Z)(G,2),Y=X[0],$=X[1],ee=(0,c.useState)([]),ae=(0,i.Z)(ee,2),le=ae[0],ne=ae[1],se=(0,c.useState)(""),te=(0,i.Z)(se,2),ie=te[0],ce=te[1],oe=(0,c.useState)(!1),re=(0,i.Z)(oe,2),me=(re[0],re[1]),ue=(0,c.useState)(""),de=(0,i.Z)(ue,2),fe=de[0],pe=de[1],he=(0,c.useState)([]),ve=(0,i.Z)(he,2),ge=(ve[0],ve[1],(0,o.v9)(f.Nb).message),xe=localStorage.getItem("token"),be=(0,c.useState)({userName:"",personal_email:"",kol_type:"",city:"",zip_code:"",state:"",userImage:"",bio:"",social_media:[],social_active:"",video_links:[],languages:[],tags:[],avatar:""}),je=(0,i.Z)(be,2),Ne=je[0],_e=je[1];(0,c.useEffect)((function(){(0,p.sp)((function(e){y(e)}),xe)}),[]),(0,c.useEffect)((function(){if(k.get_social_media&&Se((0,t.Z)(k.get_social_media)),k.video_links){var e=k.video_links.split(",");U((0,t.Z)(e))}if(k.tags){var a=k.tags.split(",");ne((0,t.Z)(a))}if(k.languages){var l=k.languages.split(",");g((0,t.Z)(l))}k.kol_type&&j&&(console.log(k.kol_type,j),pe(Object.keys(j).find((function(e){return j[e]==k.kol_type}))))}),[k,j]),(0,c.useEffect)((function(){var e=v.map((function(e,a){return{label:e,value:e}}));M((0,t.Z)(e))}),[v]),(0,c.useEffect)((function(){(0,p.KQ)((function(e){N((0,s.Z)({},e))}),xe)}),[]),(0,c.useEffect)((function(){(0,p.iZ)((function(e){O((0,s.Z)({},e))}))}),[]),(0,c.useEffect)((function(){(0,p.Rh)((function(e){w((0,s.Z)({},e))}))}),[]);var Ze=(0,o.I0)(),ke=(0,c.useState)([{name:"",social_user_id:"",followers:""}]),ye=(0,i.Z)(ke,2),Ce=ye[0],Se=ye[1],Ee=function(e,a){var l=e.target,n=l.name,s=l.value,i=(0,t.Z)(Ce);i[a][n]=s,Se(i)},we=function(){Se([].concat((0,t.Z)(Ce),[{name:"",social_user_id:"",followers:""}]))},ze=function(){U([].concat((0,t.Z)(B),[""]))};(0,c.useEffect)((function(){_e((function(){return(0,s.Z)((0,s.Z)({},Ne),{},{social_media:(0,t.Z)(Ce)})}))}),[Ce]),(0,c.useEffect)((function(){var e=P.map((function(e,a){return e.value}));_e((function(){return(0,s.Z)((0,s.Z)({},Ne),{},{languages:(0,t.Z)(e)})}))}),[P]),(0,c.useEffect)((function(){_e((function(){return(0,s.Z)((0,s.Z)({},Ne),{},{video_links:(0,t.Z)(B)})}))}),[B]),(0,c.useEffect)((function(){_e((function(){return(0,s.Z)((0,s.Z)({},Ne),{},{tags:(0,t.Z)(le)})}))}),[le]);var Ie=function(e){if(_e((0,s.Z)((0,s.Z)({},Ne),{},(0,n.Z)({},e.target.name,e.target.value))),"userImage"==e.target.name){if(e.target.files[0].size>1e6)return;q(e.target.files[0])}if("userBanner"==e.target.name){if(e.target.files[0].size>1e6)return;$(e.target.files[0])}"tags"==e.target.name&&ne(e.target.value)};(0,c.useEffect)((function(){(0,p.Ae)((function(e){T((0,s.Z)({},e))}),xe)}),[]),(0,c.useEffect)((function(){_e((function(){var e;return(0,s.Z)((0,s.Z)({},Ne),{},{userName:null===k||void 0===k||null===(e=k.get_user)||void 0===e?void 0:e.name,personal_email:k.personal_email,kol_type:fe,city:k.city,zip_code:k.zip_code,state:k.state,userImage:k.banner,bio:k.bio,social_media:(0,t.Z)(Ce),social_active:k.social_active,video_links:(0,t.Z)(B),languages:k.languages,tags:(0,t.Z)(le),avatar:k.avatar})}))}),[le,Ce,B,k,fe]);(0,o.v9)(f.Nb).biodata.kolProfileData;var De=Object.entries(D).map((function(e){var a=(0,i.Z)(e,2);return{label:a[0],value:a[1]}}));return(0,c.useEffect)((function(){u.Am.success(ge)}),[ge]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"card",children:[(0,h.jsx)("div",{className:"card-header",children:(0,h.jsxs)("div",{className:"card-title h5 justify-content-between m-0 d-flex align-items-center",children:[(0,h.jsx)("span",{children:"Kol Profile Update"})," ",(0,h.jsx)(m.rU,{className:"btn theme-btn btn-sm",to:"../profile-view",children:"View"})]})}),(0,h.jsx)("div",{className:"card-body px-4",children:(0,h.jsxs)("form",{className:"",onSubmit:function(e){e.preventDefault();var a=new FormData;R&&Y?(a.append("avatar",R),a.append("banner",Y),a.append("personal_email",Ne.personal_email),a.append("kol_type",Ne.kol_type),a.append("city",Ne.city),a.append("zip_code",Ne.zip_code),a.append("bio",Ne.bio),a.append("social_media[]",JSON.stringify(Ne.social_media)),a.append("social_active",Ne.social_active),a.append("video_links[]",Ne.video_links),a.append("languages[]",Ne.languages),a.append("tags[]",Ne.tags),a.append("state",Ne.state)):(a.append("personal_email",Ne.personal_email),a.append("kol_type",Ne.kol_type),a.append("city",Ne.city),a.append("zip_code",Ne.zip_code),a.append("bio",Ne.bio),a.append("social_media[]",JSON.stringify(Ne.social_media)),a.append("social_active",Ne.social_active),a.append("video_links[]",Ne.video_links),a.append("languages[]",Ne.languages),a.append("tags[]",Ne.tags),a.append("state",Ne.state)),Ze((0,f.AW)(a)).then((function(){console.log("hello")}))},children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,h.jsx)("label",{className:"form-label",children:(0,h.jsx)("b",{children:"Name"})}),(0,h.jsx)("input",{type:"text",className:"form-control",name:"userName",onChange:Ie,defaultValue:null===k||void 0===k||null===(e=k.get_user)||void 0===e?void 0:e.name,"aria-describedby":"emailHelp"})]}),(0,h.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,h.jsx)("label",{className:"form-label",children:(0,h.jsx)("b",{children:"Email address"})}),(0,h.jsx)("input",{type:"email",name:"personal_email",className:"form-control",id:"exampleInputEmail1",defaultValue:null===k||void 0===k?void 0:k.personal_email,onChange:Ie}),(0,h.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),(0,h.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,h.jsx)("label",{className:"form-label",children:(0,h.jsx)("b",{children:"Kol Type"})}),(0,h.jsxs)("select",{className:"form-select",name:"kol_type",onChange:Ie,defaultValue:fe||"hgdf",children:[(0,h.jsx)("option",{value:fe,children:k.kol_type}),j&&Object.entries(j).map((function(e){var a=(0,i.Z)(e,2),l=a[0],n=a[1];return(0,h.jsx)("option",{value:l,children:j[l]?"select":n},l)}))]})]}),(0,h.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,h.jsx)("label",{className:"form-label",children:(0,h.jsx)("b",{children:"City"})}),(0,h.jsx)("input",{type:"text",name:"city",onChange:Ie,className:"form-control",value:k.city})]}),(0,h.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,h.jsx)("label",{className:"form-label",children:(0,h.jsx)("b",{children:"State"})}),(0,h.jsxs)("select",{className:"form-select form-text",onChange:Ie,name:"state",children:[(0,h.jsx)("option",{value:k.state,children:k.state}),E&&Object.entries(E).map((function(e){var a=(0,i.Z)(e,2),l=a[0],n=a[1];return(0,h.jsx)("option",{value:l,children:n})}))]})]}),(0,h.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,h.jsx)("label",{className:" form-label",children:(0,h.jsx)("b",{children:"Zip code"})}),(0,h.jsx)("input",{type:"text",name:"zip_code",className:"form-control",onChange:Ie,value:k.zip_code})]}),(0,h.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,h.jsx)("label",{className:" form-label",children:(0,h.jsx)("b",{children:"Language"})}),(0,h.jsx)(r.ZP,{options:De,onChange:function(e){M((0,t.Z)(e))},isMulti:!0,value:P})]}),(0,h.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,h.jsx)("label",{className:" form-label",children:(0,h.jsx)("b",{children:"Most Active Platform"})}),(0,h.jsxs)("select",{className:"form-select",name:"social_active",onChange:function(e){},children:[(0,h.jsx)("option",{value:null===k||void 0===k?void 0:k.social_active,children:null===k||void 0===k?void 0:k.social_active}),Object.keys(J).map((function(e,a){return(0,h.jsx)("option",{value:e,children:e},a)}))]})]}),(0,h.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,h.jsx)("label",{className:"form-label",children:(0,h.jsx)("b",{children:"Bio"})}),(0,h.jsx)("textarea",{className:"form-control",name:"bio",onChange:Ie,defaultValue:k.bio,rows:"6"})]}),(0,h.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,h.jsx)("label",{className:"form-label",children:(0,h.jsx)("b",{children:"Enter Tags"})}),(0,h.jsx)("input",{value:ie,placeholder:"Enter a tag",onKeyDown:function(e){var a=e.key,l=ie.trim();if("Enter"===a&&l.length&&!le.includes(l)&&(e.preventDefault(),ne((function(e){return[].concat((0,t.Z)(e),[l])})),ce("")),"Backspace"===a&&!ie.length&&le.length){e.preventDefault();var n=(0,t.Z)(le),s=n.pop();ne(n),ce(s)}me(!1)},onKeyUp:function(){me(!0)},name:"tags",className:"form-control",onChange:function(e){var a=e.target.value;ce(a)}}),le.length?(0,h.jsx)("div",{className:"tagDiv",children:le.map((function(e,a){return(0,h.jsxs)("div",{className:"tag btn-default",children:[e,(0,h.jsx)("button",{onClick:function(){return function(e){ne((function(a){return a.filter((function(a,l){return l!==e}))}))}(a)},children:"x"})]})}))}):""]}),(0,h.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3 d-flex",children:[(0,h.jsx)("div",{className:"profile-img-thumb",children:(0,h.jsx)("img",{src:"".concat(d.s).concat(k.avatar),height:50,alt:"Avatar"})}),(0,h.jsxs)("div",{className:"profile-img-group",children:[(0,h.jsx)("label",{className:"form-label",children:(0,h.jsx)("b",{children:"Upload Avatar"})}),(0,h.jsx)("input",{type:"file",className:"form-control",name:"userImage",onChange:Ie})]})]}),(0,h.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3 d-flex",children:[(0,h.jsx)("div",{className:"profile-img-thumb",children:(0,h.jsx)("img",{src:"".concat(d.s).concat(k.banner),height:50,width:50,alt:"Banner"})}),(0,h.jsxs)("div",{className:"profile-img-group",children:[(0,h.jsx)("label",{className:"form-label",children:(0,h.jsx)("b",{children:"Upload Banner"})}),(0,h.jsx)("input",{type:"file",className:"form-control",name:"userBanner",onChange:Ie})]})]}),(0,h.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,h.jsx)("label",{className:"form-label",children:(0,h.jsx)("b",{children:"Social Media Info"})}),Ce.map((function(e,a){return(0,h.jsxs)("div",{className:"col d-flex mb-2",children:[(0,h.jsxs)("select",{className:"form-select me-3",name:"name",onChange:function(e){return Ee(e,a)},children:[(0,h.jsx)("option",{value:e.name,children:e.name}),Object.keys(J).map((function(e,a){return(0,h.jsx)("option",{value:e,children:e},a)}))]}),(0,h.jsx)("input",{className:"form-control  me-3",name:"social_user_id",placeholder:"Enter User Id",value:e.social_user_id,onChange:function(e){return Ee(e,a)}}),(0,h.jsx)("input",{className:"form-control  me-3",name:"followers",placeholder:"30k",value:e.followers,onChange:function(e){return Ee(e,a)}}),(0,h.jsxs)("div",{className:"btn-box",children:[1!==Ce.length&&(0,h.jsx)("button",{className:"btn sub-btn",onClick:function(e){return function(e,a){e.preventDefault();var l=(0,t.Z)(Ce);l.splice(a,1),Se(l)}(e,a)},children:" - "}),Ce.length-1===a&&(0,h.jsx)("button",{className:"btn custom-btn",onClick:we,children:" + "})]})]})}))]}),(0,h.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,h.jsx)("label",{className:"form-label",children:(0,h.jsx)("b",{children:"Video Links"})}),B.map((function(e,a){return(0,h.jsxs)("div",{className:"col d-flex mb-2",children:[(0,h.jsx)("input",{name:"videoLink",placeholder:"Video Link",className:"form-control me-3",defaultValue:e,onChange:function(e){return function(e,a){var l=e.target.value,n=(0,t.Z)(B);n[a]=l,U(n)}(e,a)}}),(0,h.jsxs)("div",{className:"btn-box",children:[1!==B.length&&(0,h.jsx)("button",{className:"btn sub-btn",onClick:function(e){return function(e){var a=(0,t.Z)(B);a.splice(e,1),U(a)}(e)},children:"-"}),B.length-1===a&&(0,h.jsx)("button",{className:"btn custom-btn ",onClick:ze,children:"+"})]})]})}))]})]}),(0,h.jsx)("div",{className:"mt-4 mx-auto d-block",children:(0,h.jsx)("button",{type:"submit",className:"btn theme-btn form-text",children:"Submit"})})]})})]})})}}}]);
//# sourceMappingURL=517.81be96bd.chunk.js.map