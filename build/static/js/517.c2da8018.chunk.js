"use strict";(self.webpackChunkkol_marketplace_new=self.webpackChunkkol_marketplace_new||[]).push([[517],{24517:function(e,a,l){l.r(a);var n=l(4942),s=l(1413),t=l(42982),i=l(70885),r=l(72791),c=l(59434),o=l(35071),d=l(16871),m=l(43504),u=l(9085),f=(l(5462),l(83383)),v=l(31389),g=l(8690),h=l(39951),p=l(80184);a.default=function(){var e,a,l=(0,d.s0)(),x=(0,r.useState)([]),j=(0,i.Z)(x,2),b=j[0],N=j[1],_=(0,r.useState)(""),Z=(0,i.Z)(_,2),y=Z[0],k=Z[1],S=(0,r.useState)({}),w=(0,i.Z)(S,2),C=w[0],E=w[1],D=(0,r.useState)({}),z=(0,i.Z)(D,2),F=z[0],P=z[1],K=(0,r.useState)([]),B=(0,i.Z)(K,2),I=B[0],A=B[1],O=(0,r.useState)([]),U=(0,i.Z)(O,2),T=U[0],M=U[1],L=(0,r.useState)({}),V=(0,i.Z)(L,2),W=V[0],H=V[1],J=(0,r.useState)([]),Q=(0,i.Z)(J,2),R=Q[0],$=Q[1],q=(0,r.useState)(),G=(0,i.Z)(q,2),X=G[0],Y=G[1],ee=(0,r.useState)(),ae=(0,i.Z)(ee,2),le=ae[0],ne=ae[1],se=(0,r.useState)([""]),te=(0,i.Z)(se,2),ie=te[0],re=te[1],ce=(0,r.useState)([]),oe=(0,i.Z)(ce,2),de=oe[0],me=oe[1],ue=(0,r.useState)(""),fe=(0,i.Z)(ue,2),ve=fe[0],ge=fe[1],he=(0,r.useState)(!1),pe=(0,i.Z)(he,2),xe=pe[0],je=pe[1],be=(0,r.useState)(!1),Ne=(0,i.Z)(be,2),_e=(Ne[0],Ne[1]),Ze=(0,r.useState)([]),ye=(0,i.Z)(Ze,2),ke=(ye[0],ye[1],(0,r.useState)("")),Se=(0,i.Z)(ke,2),we=Se[0],Ce=Se[1],Ee=(0,r.useState)(""),De=(0,i.Z)(Ee,2),ze=De[0],Fe=De[1],Pe=(0,r.useState)(!1),Ke=(0,i.Z)(Pe,2),Be=Ke[0],Ie=Ke[1],Ae=(0,r.useState)({name:"",social_user_id:"",followers:""}),Oe=(0,i.Z)(Ae,2),Ue=Oe[0],Te=Oe[1],Me=(0,r.useState)(!1),Le=(0,i.Z)(Me,2),Ve=Le[0],We=Le[1],He=localStorage.getItem("token"),Je=(0,r.useState)({userName:"",personal_email:"",kol_type:"",city:"",state:"",zip_code:"",languages:[],social_active:"",bio:"",tags:[],userImage:"",userBanner:"",social_media:[],video_links:[]}),Qe=(0,i.Z)(Je,2),Re=Qe[0],$e=Qe[1],qe=(0,c.I0)(),Ge=(0,r.useState)([{name:"",social_user_id:"",followers:""}]),Xe=(0,i.Z)(Ge,2),Ye=Xe[0],ea=Xe[1];(0,r.useEffect)((function(){(0,g.sp)((function(e){H(e)}),He)}),[]),(0,r.useEffect)((function(){var e;if((null===W||void 0===W||null===(e=W.get_social_media)||void 0===e?void 0:e.length)>0?ea((0,t.Z)(W.get_social_media)):ea((0,t.Z)(Ye)),W.video_links){var a=W.video_links.split(",");re((0,t.Z)(a))}if(W.tags){var l=W.tags.split(",");$((0,t.Z)(l))}if(W.languages){var n=W.languages.split(",");N((0,t.Z)(n))}W.kol_type&&C&&k(Object.keys(C).find((function(e){return C[e]==W.kol_type})))}),[W,C]),console.log(Ye);var aa=function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation())};(0,r.useEffect)((function(){var e=b.map((function(e,a){return{label:e,value:e}}));me((0,t.Z)(e))}),[b]),(0,r.useEffect)((function(){(0,g.KQ)((function(e){E((0,s.Z)({},e))}),He)}),[]),(0,r.useEffect)((function(){(0,g.iZ)((function(e){A((0,s.Z)({},e))}))}),[]),(0,r.useEffect)((function(){(0,g.Rh)((function(e){P((0,s.Z)({},e))}))}),[]);var la=function(e,a){var l=e.target,n=l.name,s=l.value,i=(0,t.Z)(Ye);i[a][n]=s,ea(i)};(0,r.useEffect)((function(){Ye.map((function(e,a){""==e.name||""==e.social_user_id||""==e.followers?je(!0):(je(!1),$e((function(){return(0,s.Z)((0,s.Z)({},Re),{},{social_media:(0,t.Z)(Ye)})})))}))}),[Ye,T]),(0,r.useEffect)((function(){Ye.length>1&&Ye.forEach((function(e,a){""===e.name||""===e.social_user_id||""===e.followers?""===e.name?(console.log(e.name),Te((0,s.Z)((0,s.Z)({},Ue),{},{name:"Please Select media"}))):""===e.social_user_id?(console.log(e.social_user_id),Te((0,s.Z)((0,s.Z)({},Ue),{},{social_user_id:"Please enter User Id"}))):""===e.followers?(console.log(e.followers),Te((0,s.Z)((0,s.Z)({},Ue),{},{followers:"Please enter count"}))):Te({name:"",social_user_id:"",followers:""}):Te({name:"",social_user_id:"",followers:""})}))}),[Ye]),console.log(Ue);(0,r.useEffect)((function(){ie.map((function(e,a){""==e?Ie(!0):(Ie(!1),$e((function(){return(0,s.Z)((0,s.Z)({},Re),{},{video_links:(0,t.Z)(ie)})})))}))}),[ie]),(0,r.useEffect)((function(){var e=de.map((function(e,a){return e.value}));$e((function(){return(0,s.Z)((0,s.Z)({},Re),{},{languages:(0,t.Z)(e)})}))}),[de]),(0,r.useEffect)((function(){$e((function(){return(0,s.Z)((0,s.Z)({},Re),{},{tags:(0,t.Z)(R)})}))}),[R]);var na=function(e){if($e((0,s.Z)((0,s.Z)({},Re),{},(0,n.Z)({},e.target.name,e.target.value))),"userImage"==e.target.name){if(e.target.files[0].size>1e6)return;Y(e.target.files[0])}if("userBanner"==e.target.name){if(e.target.files[0].size>1e6)return;ne(e.target.files[0])}var a;"tags"==e.target.name&&$(e.target.value),"personal_email"==e.target.name&&(e.target.value?(a=e.target.value,/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(a)?Fe(""):Fe("Please enter correct email")):Fe("Please fill the mandatory filed"))};(0,r.useEffect)((function(){(0,g.Ae)((function(e){M((0,s.Z)({},e))}),He)}),[]),(0,r.useEffect)((function(){$e((function(){var e;return(0,s.Z)((0,s.Z)({},Re),{},{userName:null===W||void 0===W||null===(e=W.get_user)||void 0===e?void 0:e.name,personal_email:W.personal_email,kol_type:y,city:W.city,state:W.state,zip_code:W.zip_code,languages:W.languages,social_active:W.social_active,bio:W.bio,tags:(0,t.Z)(R),userImage:W.avatar,userBanner:W.banner,social_media:(0,t.Z)(Ye),video_links:(0,t.Z)(ie)})}))}),[W,y]);(0,c.v9)(v.Nb).biodata.kolProfileData;var sa=Object.entries(I).map((function(e){var a=(0,i.Z)(e,2);return{label:a[0],value:a[1]}}));return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"card",children:[(0,p.jsx)("div",{className:"card-header",children:(0,p.jsxs)("div",{className:"card-title h5 justify-content-between m-0 d-flex align-items-center",children:[(0,p.jsx)("span",{children:"Kol Profile Update"})," ",(0,p.jsx)(m.rU,{className:"btn theme-btn btn-sm",to:"../profile-view",children:"View"})]})}),(0,p.jsx)("div",{className:"card-body px-4",children:(0,p.jsxs)("form",{className:"",onSubmit:function(e){e.preventDefault(),We(!0);var a=new FormData;if(a.append("personal_email",Re.personal_email),a.append("kol_type",Re.kol_type),a.append("city",Re.city),a.append("state",Re.state),a.append("zip_code",Re.zip_code),a.append("languages[]",Re.languages),a.append("social_active",Re.social_active),a.append("bio",Re.bio),a.append("tags[]",Re.tags),X&&a.append("avatar",X),le&&a.append("banner",le),a.append("social_media[]",JSON.stringify(Re.social_media)),a.append("video_links[]",Re.video_links),""==Re.personal_email||""==Re.kol_type||""==Re.city||""==Re.state||""==Re.zip_code||""==Re.languages||""==Re.social_active||""==Re.bio||""==Re.tags||""==Re.social_media||xe||Be)return Ce("Please fill the mandatory filed"),void We(!1);ze.length>0||Ue.name.length>0||Ue.social_user_id.length>0||Ue.followers.length>0?We(!1):qe((0,v.AW)(a)).then((function(e){var a;if(202===(null===e||void 0===e||null===(a=e.payload)||void 0===a?void 0:a.statusCode)){var n;u.Am.success(null===e||void 0===e||null===(n=e.payload)||void 0===n?void 0:n.message),We(!1),l("../profile-view");(0,g.sp)((function(e){H(e)}),He)}else{var s;u.Am.error(null===e||void 0===e||null===(s=e.payload)||void 0===s?void 0:s.message),We(!1)}}))},children:[(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,p.jsx)("label",{className:"form-label",children:(0,p.jsx)("b",{children:"Name"})}),(0,p.jsx)("input",{type:"text",className:"form-control",name:"userName",onChange:na,value:null===Re||void 0===Re?void 0:Re.userName,disabled:!0})]}),(0,p.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,p.jsx)("label",{className:"form-label",children:(0,p.jsxs)("b",{children:["Email address ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]})}),(0,p.jsx)("input",{type:"email",name:"personal_email",className:"form-control ".concat(""===we||Re.personal_email?"":"border-danger"),value:null===Re||void 0===Re?void 0:Re.personal_email,onChange:na,placeholder:"Enter Email"}),(0,p.jsx)("div",{id:"emailHelp",className:"form-text",children:"This is Secondary email. We'll never share your email with anyone else."}),(0,p.jsx)("span",{className:"err text-danger",children:ze||we&&""==Re.personal_email&&(0,p.jsx)(p.Fragment,{children:ze||we})})]}),(0,p.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,p.jsx)("label",{className:"form-label",children:(0,p.jsxs)("b",{children:["Kol Type ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]})}),(0,p.jsxs)("select",{className:"form-select ".concat(""===we||Re.kol_type?"":"border-danger"),name:"kol_type",onChange:na,value:null!==Re&&void 0!==Re&&Re.kol_type?null===Re||void 0===Re?void 0:Re.kol_type:"No Type",children:[(0,p.jsx)("option",{value:"",children:"Select Kol Type"}),C&&Object.entries(C).map((function(e){var a=(0,i.Z)(e,2),l=a[0],n=a[1];return(0,p.jsx)("option",{value:l,children:C[l]?n:"Select"},l)}))]}),(0,p.jsx)("span",{className:"err text-danger",children:we&&""==Re.kol_type&&(0,p.jsx)(p.Fragment,{children:we})})]}),(0,p.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,p.jsx)("label",{className:"form-label",children:(0,p.jsxs)("b",{children:["City ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]})}),(0,p.jsx)("input",{type:"text",name:"city",onChange:na,className:"form-control ".concat(""===we||Re.city?"":"border-danger"),value:null===Re||void 0===Re?void 0:Re.city,placeholder:"Enter City"}),(0,p.jsx)("span",{className:"err text-danger",children:we&&""==Re.city&&(0,p.jsx)(p.Fragment,{children:we})})]}),(0,p.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,p.jsx)("label",{className:"form-label",children:(0,p.jsxs)("b",{children:["State ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]})}),(0,p.jsxs)("select",{className:"form-select ".concat(""===we||Re.state?"":"border-danger"),onChange:na,name:"state",value:null===Re||void 0===Re?void 0:Re.state,children:[(0,p.jsx)("option",{value:"",children:"Select State"}),F&&Object.entries(F).map((function(e){var a=(0,i.Z)(e,2),l=a[0],n=a[1];return(0,p.jsx)("option",{value:l,children:n})}))]}),(0,p.jsx)("span",{className:"err text-danger",children:we&&""==Re.state&&(0,p.jsx)(p.Fragment,{children:we})})]}),(0,p.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,p.jsx)("label",{className:" form-label",children:(0,p.jsxs)("b",{children:["Zip code ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]})}),(0,p.jsx)("input",{type:"text",name:"zip_code",className:"form-control ".concat(""===we||Re.zip_code?"":"border-danger"),onChange:na,value:null===Re||void 0===Re?void 0:Re.zip_code,placeholder:"Enter Zip code"}),(0,p.jsx)("span",{className:"err text-danger",children:we&&""==Re.zip_code&&(0,p.jsx)(p.Fragment,{children:we})})]}),(0,p.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,p.jsx)("label",{className:" form-label",children:(0,p.jsxs)("b",{children:["Language ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]})}),(0,p.jsx)(o.ZP,{options:sa,name:"languages",onChange:function(e){me((0,t.Z)(e))},isMulti:!0,value:de,className:"text-capitalize ".concat(""===we||null!==Re&&void 0!==Re&&null!==(e=Re.languages)&&void 0!==e&&e.length?"":"border-danger")}),(0,p.jsx)("span",{className:"err text-danger",children:we&&""==Re.languages&&(0,p.jsx)(p.Fragment,{children:we})})]}),(0,p.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,p.jsx)("label",{className:" form-label",children:(0,p.jsxs)("b",{children:["Most Social Active Platform ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]})}),(0,p.jsxs)("select",{className:"form-select ".concat(""===we||Re.social_active?"":"border-danger"),name:"social_active",onChange:na,value:null===Re||void 0===Re?void 0:Re.social_active,children:[(0,p.jsx)("option",{value:"",children:"Select Social Platform"}),Object.keys(T).map((function(e,a){return(0,p.jsx)("option",{value:e,children:e},a)}))]}),(0,p.jsx)("span",{className:"err text-danger",children:we&&""==Re.social_active&&(0,p.jsx)(p.Fragment,{children:we})})]}),(0,p.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,p.jsx)("label",{className:"form-label",children:(0,p.jsxs)("b",{children:["Bio ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]})}),(0,p.jsx)("textarea",{className:"form-control ".concat(""===we||Re.bio?"":"border-danger"),name:"bio",onChange:na,value:null===Re||void 0===Re?void 0:Re.bio,rows:"6",placeholder:"Enter Bio"}),(0,p.jsx)("span",{className:"err text-danger",children:we&&""==Re.bio&&(0,p.jsx)(p.Fragment,{children:we})})]}),(0,p.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,p.jsx)("label",{className:"form-label",children:(0,p.jsxs)("b",{children:["Enter Tags ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]})}),(0,p.jsx)("input",{value:ve,placeholder:"Enter tags",onKeyDown:function(e){var a=e.key,l=ve.trim();if("Enter"===a&&l.length&&!R.includes(l)&&(e.preventDefault(),$((function(e){return[].concat((0,t.Z)(e),[l])})),ge("")),"Backspace"===a&&!ve.length&&R.length){e.preventDefault();var n=(0,t.Z)(R),s=n.pop();$(n),ge(s)}_e(!1)},onKeyUp:function(){_e(!0)},name:"tags",className:"form-control ".concat(""===we||null!==Re&&void 0!==Re&&null!==(a=Re.tags)&&void 0!==a&&a.length?"":"border-danger"),onChange:function(e){var a=e.target.value;ge(a)}}),(0,p.jsx)("span",{className:"err text-danger",children:we&&""==Re.tags&&(0,p.jsx)(p.Fragment,{children:we})}),R.length?(0,p.jsx)("div",{className:"tagDiv",children:null===Re||void 0===Re?void 0:Re.tags.map((function(e,a){return(0,p.jsxs)("div",{className:"tag btn-default",children:[e,(0,p.jsx)("button",{onClick:function(){return function(e){$((function(a){return a.filter((function(a,l){return l!==e}))}))}(a)},children:"x"})]})}))}):""]}),(0,p.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3 d-flex",children:[(0,p.jsx)("div",{className:"profile-img-thumb",children:(0,p.jsx)("img",{src:"".concat(f.s).concat(null===W||void 0===W?void 0:W.avatar),height:50,alt:"Avatar"})}),(0,p.jsxs)("div",{className:"profile-img-group",children:[(0,p.jsx)("label",{className:"form-label",children:(0,p.jsx)("b",{children:"Upload Avatar"})}),(0,p.jsx)("input",{type:"file",className:"form-control",name:"userImage",onChange:na})]})]}),(0,p.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3 d-flex",children:[(0,p.jsx)("div",{className:"profile-img-thumb",children:(0,p.jsx)("img",{src:"".concat(f.s).concat(null===W||void 0===W?void 0:W.banner),height:50,width:50,alt:"Banner"})}),(0,p.jsxs)("div",{className:"profile-img-group",children:[(0,p.jsx)("label",{className:"form-label",children:(0,p.jsx)("b",{children:"Upload Banner"})}),(0,p.jsx)("input",{type:"file",className:"form-control",name:"userBanner",onChange:na})]})]}),(0,p.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,p.jsx)("label",{className:"form-label",children:(0,p.jsxs)("b",{children:["Social Media Info ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]})}),Ye.map((function(e,a,l){return(0,p.jsxs)("div",{className:"col d-flex mb-2",children:[(0,p.jsxs)("select",{className:"form-select me-3",name:"name",onChange:function(e){return la(e,a)},onKeyDown:aa,value:e.name,children:[(0,p.jsx)("option",{value:"",children:"Social Media"}),Object.keys(T).map((function(e,a){var l,n,s,t,i;return(0,p.jsx)("option",{value:e,disabled:e==(null===(l=Ye[0])||void 0===l?void 0:l.name)||e==(null===(n=Ye[1])||void 0===n?void 0:n.name)||e==(null===(s=Ye[2])||void 0===s?void 0:s.name)||e==(null===(t=Ye[3])||void 0===t?void 0:t.name)||e==(null===(i=Ye[4])||void 0===i?void 0:i.name),children:e},a)}))]}),(0,p.jsx)("input",{className:"form-control me-3 w-50",name:"social_user_id",placeholder:"Enter User Id",value:e.social_user_id,onChange:function(e){return la(e,a)},onKeyDown:aa}),(0,p.jsx)("input",{className:"form-control me-3 w-50",type:"number",name:"followers",placeholder:"30",value:e.followers,onChange:function(e){return la(e,a)},onKeyDown:aa}),(0,p.jsxs)("div",{className:"btn-box",children:[1!==Ye.length&&(0,p.jsx)("button",{className:"btn sub-btn",onClick:function(e){return function(e,a){e.preventDefault();var l=(0,t.Z)(Ye);l.splice(a,1),ea(l)}(e,a)},children:"-"}),Ye.length-1===a&&Ye.length<5&&(0,p.jsx)("button",{className:"btn custom-btn",onClick:function(e){return function(e,a){if(e.preventDefault(),console.log(Ye),""==Ue.name&&""==Ue.followers&&""==Ue.social_user_id){var l=[].concat((0,t.Z)(Ye),[{name:"",social_user_id:"",followers:""}]);ea(l)}}(e)},children:"  + "})]})]})})),(0,p.jsx)("span",{className:"err text-danger",children:we&&xe&&(0,p.jsx)(p.Fragment,{children:we})})]}),(0,p.jsxs)("div",{className:"col-lg-6 col-sm-12 mt-3",children:[(0,p.jsx)("label",{className:"form-label",children:(0,p.jsxs)("b",{children:["Video Links ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]})}),ie.map((function(e,a){var l;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"col d-flex mb-2",children:[(0,p.jsx)("input",{name:"video_links",placeholder:"Enter Video Link",className:"form-control me-3 ".concat(""===we||null!==Re&&void 0!==Re&&null!==(l=Re.video_links)&&void 0!==l&&l.length?"":"border-danger"),value:e,onChange:function(e){return function(e,a){var l=e.target.value,n=(0,t.Z)(ie);n[a]=l,re(n)}(e,a)},onKeyDown:aa}),(0,p.jsxs)("div",{className:"btn-box",children:[1!==ie.length&&(0,p.jsxs)("button",{className:"btn sub-btn",onClick:function(e){return function(e,a){e.preventDefault();var l=(0,t.Z)(ie);l.splice(a,1),re(l)}(e,a)},children:[" ","-"," "]}),ie.length-1===a&&(0,p.jsx)("button",{className:"btn custom-btn",onClick:function(e){re([].concat((0,t.Z)(ie),[""]))},children:"+"})]})]})})})),console.log(ie),(0,p.jsx)("span",{className:"err text-danger",children:we&&Be?(0,p.jsx)(p.Fragment,{children:we}):""})]})]}),(0,p.jsx)("div",{className:"mt-4 mx-auto d-block",children:(0,p.jsx)("button",{type:"submit",className:"btn theme-btn form-text spiner-btn",children:Ve?(0,p.jsx)(h.Z,{type:"spinner-cub",title:"Submit",size:16}):"Submit"})})]})})]})})}}}]);
//# sourceMappingURL=517.c2da8018.chunk.js.map