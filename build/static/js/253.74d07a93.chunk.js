"use strict";(self.webpackChunkkol_marketplace_new=self.webpackChunkkol_marketplace_new||[]).push([[253],{5253:function(e,a,t){t.r(a);var l=t(4942),s=t(885),n=t(1413),r=t(2791),i=(t(4986),t(9513)),c=t.n(i),o=(t(8639),t(3383)),d=t(3901),m=t(1389),u=t(6871),f=t(3504),h=t(8690),p=t(9085),x=t(184);a.default=function(){var e=(0,d.I0)(),a=(0,u.UO)().id,t=localStorage.getItem("token"),i=(0,d.v9)(m.Nb).message,j=(0,u.s0)();(0,r.useEffect)((function(){p.Am.success(i)}),[i]),(0,r.useEffect)((function(){(0,h.k5)((function(e){e.length&&b((function(){return(0,n.Z)((0,n.Z)({},_),{},{title:e[0].title,description:e[0].description,start_date:e[0].start_date,end_date:e[0].end_date,social_platform:e[0].social_platform,imageUrl:e[0].image})}))}),t,a)}),[]);var v=(0,r.useState)({title:"",description:"",start_date:"",end_date:"",social_platform:"",Image:"",imageUrl:""}),g=(0,s.Z)(v,2),_=g[0],b=g[1],N=(0,r.useState)(),w=(0,s.Z)(N,2),Z=w[0],y=w[1],S=(0,r.useState)(),D=(0,s.Z)(S,2),k=D[0],C=D[1],F=(0,r.useState)(),I=(0,s.Z)(F,2),M=I[0],T=I[1],P=(0,r.useState)({title:0,description:0,start_date:0,end_date:0,social_platform:0}),U=(0,s.Z)(P,2),A=U[0],E=U[1];(0,r.useEffect)((function(){if(k){var e=new Date(k),a=e.toLocaleTimeString(),t=("0"+(e.getMonth()+1)).slice(-2),l=("0"+e.getDate()).slice(-2),s=[e.getFullYear(),t,l].join("-");b((function(){return(0,n.Z)((0,n.Z)({},_),{},{start_date:s+" "+a})}))}}),[k]),(0,r.useEffect)((function(){if(M){var e=new Date(M),a=e.toLocaleTimeString(),t=("0"+(e.getMonth()+1)).slice(-2),l=("0"+e.getDate()).slice(-2),s=[e.getFullYear(),t,l].join("-");b((function(){return(0,n.Z)((0,n.Z)({},_),{},{end_date:s+" "+a})}))}}),[M]);var L=function(e){if(b((0,n.Z)((0,n.Z)({},_),{},(0,l.Z)({},e.target.name,e.target.value))),"userImage"==e.target.name){if(e.target.files[0].size>1e6)return void console.log("File is large");y(e.target.files[0])}return!1};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"row col-12",children:[(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("h3",{className:"mt-4",children:"Add Announcement"})}),(0,x.jsx)("div",{className:"col-6",children:a&&(0,x.jsx)(f.rU,{to:"/dashboard/announcement/view/".concat(a),children:"View"})})]}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("form",{className:"dashboard-main-form",onSubmit:function(a){a.preventDefault();var t=new Date(k),l=("0"+(t.getMonth()+1)).slice(-2),s=("0"+t.getDate()).slice(-2),r=[t.getFullYear(),l,s].join("-");b((0,n.Z)((0,n.Z)({},_),{},{start_date:r}));var i={};for(var c in _)""!=_[c]&&void 0!=_[c]||(i[c]=1,E((0,n.Z)({},i)));for(var o in A)if(0==A[o])return void p.Am.error("Please fill details");var d=new FormData;d.append("image",Z),d.append("title",_.title),d.append("description",_.description),d.append("start_date",_.start_date),d.append("end_date",_.end_date),d.append("social_platform",_.social_platform),e((0,m.L6)(d)),j("../../dashboard/announcement/list")},children:[(0,x.jsxs)("div",{className:"row mt-3",children:[(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)("label",{className:"form-label",children:(0,x.jsx)("b",{children:"Title"})}),(0,x.jsx)("input",{type:"text",className:"form-control",value:_.title,onChange:L,name:"title"}),1==A.title?(0,x.jsx)("span",{className:"error-show",children:"Please fill valid title"}):null]}),(0,x.jsxs)("div",{className:"col-6 ",children:[(0,x.jsx)("label",{className:"form-label",children:(0,x.jsx)("b",{children:"Social Media Platform"})}),(0,x.jsx)("input",{type:"text",className:"form-control",value:_.social_platform,onChange:L,name:"social_platform"}),1==A.social_platform?(0,x.jsx)("span",{className:"error-show",children:"Please fill valid social Media"}):null]})]}),(0,x.jsxs)("div",{className:"row mt-3",children:[(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)("label",{className:"form-label",children:(0,x.jsx)("b",{children:"Start Date"})}),(0,x.jsx)(c(),{selected:k,name:"start_date_time",onChange:function(e){return C(e)},timeInputLabel:"Time:",dateFormat:"yyyy-MM-dd hh:mm:ss aa",showTimeInput:!0,value:_.start_date}),1==A.start_date?(0,x.jsx)("span",{className:"error-show",children:"Please fill valid start date"}):null]}),(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)("label",{className:"form-label",children:(0,x.jsx)("b",{children:"End Date"})}),(0,x.jsx)(c(),{selected:M,onChange:function(e){return T(e)},timeInputLabel:"Time:",dateFormat:"yyyy-MM-dd hh:mm:ss aa",showTimeInput:!0,name:"end_date_time",value:_.end_date}),1==A.start_date?(0,x.jsx)("span",{className:"error-show",children:"Please fill valid end date"}):null]})]}),(0,x.jsxs)("div",{className:"col-12 mt-3",children:[(0,x.jsx)("label",{className:"form-label",children:(0,x.jsx)("b",{children:"Description"})}),(0,x.jsx)("textarea",{className:"form-control form-text",id:"exampleFormControlTextarea1",name:"description",onChange:L,rows:"3",value:_.description}),1==A.description?(0,x.jsx)("span",{className:"error-show",children:"Please fill description"}):null]}),(0,x.jsxs)("div",{className:"row mt-3",children:[(0,x.jsx)("label",{className:"form-label",children:(0,x.jsx)("b",{children:"Upload Avatar"})}),(0,x.jsx)("input",{type:"file",name:"userImage",onChange:L})]}),_.imageUrl&&(0,x.jsx)("img",{src:"".concat(o.s).concat(_.imageUrl)}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{type:"submit",className:"btn btn-primary form-text",children:"Submit"})})]})})]})}},4986:function(){}}]);
//# sourceMappingURL=253.74d07a93.chunk.js.map